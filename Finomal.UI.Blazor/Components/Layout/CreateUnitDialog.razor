<Dialog @ref="dialog">
    <Title>افزودن واحد جدید</Title>
    <Body>
        <div class="mb-3">
            <label for="unitName" class="form-label">نام واحد:</label>
            <input @bind="newUnitName" type="text" id="unitName" class="form-control" placeholder="مثال: عدد، کارتن، کیلوگرم" />
        </div>
    </Body>
    <Footer>
        <button type="button" class="btn btn-secondary" @onclick="HandleCancel">انصراف</button>
        <button type="button" class="btn btn-primary" @onclick="HandleSave">ذخیره</button>
    </Footer>
</Dialog>

@code {
    [Parameter] public EventCallback<string> OnSave { get; set; }

    private Dialog dialog = new();
    private string newUnitName = "";

    public void Open()
    {
        dialog.Open();
    }

    private void HandleCancel()
    {
        newUnitName = "";
        dialog.Close();
    }

    private async Task HandleSave()
    {
        if (!string.IsNullOrWhiteSpace(newUnitName))
        {
            await OnSave.InvokeAsync(newUnitName);
            newUnitName = ""; // Clear for next time
            dialog.Close();
        }
    }
}